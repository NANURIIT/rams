<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nanuri.rams.business.common.mapper.RAA93BMapper">

    <select id="selectAuthCodeMenu" parameterType="String" resultType="com.nanuri.rams.business.common.vo.RAA93BVo">
        SELECT 93b.srt_no
             , 93b.menu_id
             , 95b.rght_cd
             , 93b.menu_lv
             , 93b.dlt_f
             , 95b.mdfy_rght_ccd
             , 93b.hndl_dy_tm
             , 93b.hndl_p_eno
          FROM RAA93B 93b
    INNER JOIN RAA95B 95b
            ON 93b.menu_id = 95b.menu_id
         WHERE 95b.rght_cd = #{rghtCd}
           AND 93b.scrn_aplc_type_cd = 'S'
    </select>

    <update id="updateAuthCodeMenu" parameterType="com.nanuri.rams.business.common.vo.RAA93BVo">
        UPDATE RAA93B
            <set>
                <if test="dltF != null and dltF !=''">
                    dlt_f = #{dltF},
                </if>
                hndl_p_eno = #{hndlPEno},
                hndl_dy_tm = now()
            </set>
         WHERE menu_id = #{menuId};
        <if test="mdfyRghtCcd != null and mdfyRghtCcd !=''">
        UPDATE RAA95B
           SET mdfy_rght_ccd = #{mdfyRghtCcd}
        WHERE menu_id = #{menuId};
        </if>
    </update>
</mapper>